@use "/sass/uswds-styles" as *;
@forward "usa-section";
@forward "usa-layout-grid";
@forward "usa-breadcrumb";
@forward "usa-card";
@forward "usa-button";
@forward "usa-button-group";

.catalog-section {

  @include u-padding-top(0);

  .usa-card {

    a.usa-card__container {

      text-decoration: none;
      border-color: color($theme-color-base-lighter);

      // hover effect
      &:hover {

        .usa-card__header {
          text-decoration: underline;
          text-decoration-color: color($theme-color-base-light);
        }

        box-shadow:
          0px 5px 5px -3px color($theme-color-base-light, 0.20),
          0px 8px 8px  1px color($theme-color-base-light, 0.14),
          0px 3px 14px 2px color($theme-color-base-light, 0.12);
      }

      // click effect
      &:active {

        background-color: color($theme-color-base-lighter);

        box-shadow:
          0px 15px 15px -3px color($theme-color-base-light, 0.20),
          0px 24px 30px  1px color($theme-color-base-light, 0.14),
          0px  9px 40px  2px color($theme-color-base-light, 0.12);
      }

      // maintain image box size proportion
      .usa-card__img {

        aspect-ratio: 600/315;
        background-color: color($theme-color-base-lighter);
      }

      // when above tablet size,
      // truncate the title and description
      @include at-media("tablet") {

        .usa-card__heading {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          line-height: 2.25ex;
          height: 4.5ex;
          overflow: hidden;
        }

        .usa-card__body p {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          line-height: 2.8ex;
          height: 8.4ex;
          overflow: hidden;
        }
      }
    }
  }

  // "see more" button groups at bottom of page
  .usa-button-group {
    @include u-flex("justify-center");
  }
}


// fade in images after loading.
// we're partly doing this since we're using a 3rd-party image source
// that does not have a performant caching approach
.easeload {
  opacity: 0;
  -webkit-transition: all 2s ease;
  -moz-transition: all 2s ease;
  -ms-transition: all 2s ease;
  -o-transition: all 2s ease;
}
