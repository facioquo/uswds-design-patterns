<!-- Bread crumbs (unmodified) -->
<div class="grid-container">
  <nav class="usa-breadcrumb usa-breadcrumb--wrap" aria-label="Breadcrumbs,,,">
    <ol class="usa-breadcrumb__list">
      <li class="usa-breadcrumb__list-item">
        <a routerLink="/" class="usa-breadcrumb__link"><span>Patterns</span></a>
      </li>
      <li class="usa-breadcrumb__list-item">
        <span>Card catalog</span>
      </li>
    </ol>
  </nav>
</div>

<!-- CATALOG -->
<section class="usa-section catalog-section">
  <div class="grid-container">

    <h1>Card catalog</h1>
    <p class="usa-prose">
      A card catalog using the U.S. Web Design System <a class="usa-link usa-link--external"
        href="https://designsystem.digital.gov/components/card/" target="_blank">Card</a> component
      with "see more" pagination. Learn more about <button class="usa-button usa-button--unstyled"
        (click)="u.scrollToStart('info')">our modifications</button> at the bottom of this page.
    </p>

    <!-- CARDS in CARD GROUP
      - add tablet-lg grid breakpoint
      - changed card container to <a>
      - removed card footer with button
      - size constraints and hover effect in SCSS file
    -->
    <ul class="usa-card-group padding-top-2">
      <li class="usa-card tablet:grid-col-6 tablet-lg:grid-col-4" *ngFor="let card of cards; index as i">
        <a class="usa-card__container" id="{{ card.id }}" href="{{ card.link }}" type="button" target="_blank"
          rel="noreferrer">
          <div class="usa-card__header">
            <h2 class="usa-card__heading">{{ card.title }}</h2>
          </div>
          <div class="usa-card__media">
            <div class="usa-card__img">
              <img class="easeload" onload="this.style.opacity=1" ngSrc="{{ card.image }}" width="600" height="315"
                priority="{{(i<6)?true:false}}" alt="a random image" />
            </div>
          </div>
          <div class="usa-card__body">
            <p innerHtml="{{ card.description }}"></p>
          </div>
        </a>
      </li>
    </ul>
  </div>

  <!-- "See more" pagination in standard button group -->
  <div class="grid-container">
    <p class="usa-prose text-center">Showing {{ cards.length }} of {{ totalCards }} cards</p>
    <ul class="usa-button-group" *ngIf="cards.length < totalCards">
      <li class="usa-button-group__item">
        <button class="usa-button" (click)="showMore(true)">
          Show {{ pageSize }} more
        </button>
      </li>
      <li class="usa-button-group__item">
        <button class="usa-button usa-button--outline" (click)="showAll()">
          Show all
        </button>
      </li>
    </ul>
  </div>
</section>


<!-- INFO SECTION | About this design pattern -->
<section id="info" class="usa-section usa-section--dark usa-dark-background pattern-info-section">

  <div class="pattern-info-container">

    <h2>About this pattern</h2>

    <div class="features">

      <h3>Cards</h3>

      <p class="usa-prose">
        Use this card design pattern when you want consistent <a class="usa-link usa-link--alt usa-link--external"
          href="https://designsystem.digital.gov/components/card/" target="_blank">Card</a> size proportions and
        alignment of its elements when sizes for images, card titles, and descriptions vary.
      </p>

      <p>What we changed:</p>

      <ul class="usa-list">
        <li>Card image box uses a fixed aspect ratio to ensure a consistent size.</li>
        <li>Card title and summary sections are fixed to 2 and 3 lines to ensure a consistent size. We limited the max
          allowable raw text, so overflow is rare. Ellipses indicate overflows ...</li>
        <li>Full card is clickable to maximize the size of click/touch target surface (we also removed the button).</li>
        <li>A hover shadow effect is applied to emphasize and clarify clickability and to give haptic response.</li>
        <li>Images ease in on load to reduce the visual "pop" that occurs on late arrival.</li>
      </ul>

      <h3>Pagination</h3>

      <p class="usa-prose">
        Use this pagination design pattern when you want to see more content without the large page
        shift that you'd get from classic numbered <a class="usa-link usa-link--alt usa-link--external"
          href="https://designsystem.digital.gov/components/pagination/" target="_blank">Pagination</a>.
      </p>

      <p>What we changed:</p>

      <ul class="usa-list">
        <li><strong>See more</strong> and <strong>Show all</strong> pagination uses JavaScript to add the next page(s)
          data to the card collection.</li>
        <li>Smooth scroll to position first new items added to the card collection.</li>
        <li>Lazy load images so only nearby images download and render.</li>
      </ul>
    </div>

    <!-- github | return to top -->
    <ul class="usa-button-group padding-top-6">
      <li class="usa-button-group__item">
        <a class="usa-button usa-link--external" type="button" target="_blank"
          href="https://github.com/facioquo/uswds-design-patterns/tree/main/src/app/pages/card-catalog">
          View on GitHub
        </a>
      </li>
      <li class="usa-button-group__item">
        <button class="usa-button usa-button--outline usa-button--inverse" (click)="u.scrollToStart('top')">
          Return to top
        </button>
      </li>
    </ul>
  </div>
</section>
